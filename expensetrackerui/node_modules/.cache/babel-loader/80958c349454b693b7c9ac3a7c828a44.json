{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nitin\\\\Projects\\\\ExpenseTracker\\\\expensetrackerui\\\\src\\\\Category.js\";\nimport React, { Component } from 'react';\nimport AppNav from './AppNav';\nimport { removeCategory, createCategory, getAllCategories } from './api/UtilsData';\nimport { Table, Container, Form, FormGroup, Button, Label, Input } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nclass Category extends Component {\n  constructor(props) {\n    super(props);\n    this.emptyItem = {\n      categoryName: ''\n    };\n    this.state = {\n      isLoading: true,\n      categories: [],\n      item: this.emptyItem\n    };\n    this.state = {\n      isLoading: true,\n      categories: [],\n      item: this.emptyItem\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  async componentDidMount() {\n    const body = await getAllCategories();\n    console.log(body);\n    this.setState({\n      categories: body,\n      isLoading: false\n    });\n  }\n\n  async handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    let item = { ...this.state.item\n    };\n    item[name] = value;\n    this.setState({\n      item\n    });\n    console.log(this.state.item);\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const {\n      item\n    } = this.state;\n    console.log(this.state);\n    await createCategory(item);\n    this.props.history.push('/categories');\n  }\n\n  async remove(id) {\n    await removeCategory(id).then(() => {\n      let updatedCategory = [...this.state.categories].filter(i => i.id !== id);\n      this.setState({\n        categories: updatedCategory\n      });\n    });\n    this.props.history.push('/categories');\n  }\n\n  render() {\n    const {\n      categories,\n      isLoading\n    } = this.state;\n    if (isLoading) return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, \"Loading ..... \");\n    let rows = categories.map(category => /*#__PURE__*/React.createElement(\"tr\", {\n      key: category.categoryId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, category.categoryName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      color: \"danger\",\n      onClick: () => this.remove(category.categoryId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"Delete\"))));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AppNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, \"Categories\"), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"categoryName\",\n      id: \"category\",\n      onChange: this.handleChange,\n      autoComplete: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, \"Save\"), ' ', /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      tag: Link,\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, \"Cancel\")))), /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, \" Category List \"), /*#__PURE__*/React.createElement(Table, {\n      className: \"mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      width: \"40%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }\n    }, \"Category Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      width: \"10%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 33\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, rows))));\n  }\n\n}\n\nexport default Category;","map":{"version":3,"sources":["D:/Nitin/Projects/ExpenseTracker/expensetrackerui/src/Category.js"],"names":["React","Component","AppNav","removeCategory","createCategory","getAllCategories","Table","Container","Form","FormGroup","Button","Label","Input","Link","Category","constructor","props","emptyItem","categoryName","state","isLoading","categories","item","handleSubmit","bind","handleChange","componentDidMount","body","console","log","setState","event","target","value","name","preventDefault","history","push","remove","id","then","updatedCategory","filter","i","render","rows","map","category","categoryId"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,cAAT,EAAyBC,cAAzB,EAAyCC,gBAAzC,QAAiE,iBAAjE;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,IAA3B,EAAiCC,SAAjC,EAA4CC,MAA5C,EAAoDC,KAApD,EAA2DC,KAA3D,QAAwE,YAAxE;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAGA,MAAMC,QAAN,SAAuBb,SAAvB,CAAiC;AAY5Bc,EAAAA,WAAW,CAACC,KAAD,EAAO;AACf,UAAMA,KAAN;AADe,SAVnBC,SAUmB,GAVT;AACNC,MAAAA,YAAY,EAAE;AADR,KAUS;AAAA,SANnBC,KAMmB,GANX;AACJC,MAAAA,SAAS,EAAE,IADP;AAEJC,MAAAA,UAAU,EAAG,EAFT;AAGJC,MAAAA,IAAI,EAAE,KAAKL;AAHP,KAMW;AAEf,SAAKE,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,IADF;AAETC,MAAAA,UAAU,EAAE,EAFH;AAGTC,MAAAA,IAAI,EAAE,KAAKL;AAHF,KAAb;AAME,SAAKM,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACL;;AAEA,QAAME,iBAAN,GAAyB;AACtB,UAAMC,IAAI,GAAG,MAAMtB,gBAAgB,EAAnC;AACAuB,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,SAAKG,QAAL,CAAc;AAACT,MAAAA,UAAU,EAAGM,IAAd;AAAoBP,MAAAA,SAAS,EAAG;AAAhC,KAAd;AACF;;AAED,QAAMK,YAAN,CAAmBM,KAAnB,EAAyB;AACtB,UAAMC,MAAM,GAAED,KAAK,CAACC,MAApB;AACA,UAAMC,KAAK,GAAED,MAAM,CAACC,KAApB;AACA,UAAMC,IAAI,GAAGF,MAAM,CAACE,IAApB;AAEA,QAAIZ,IAAI,GAAG,EAAC,GAAG,KAAKH,KAAL,CAAWG;AAAf,KAAX;AACAA,IAAAA,IAAI,CAACY,IAAD,CAAJ,GAAWD,KAAX;AACA,SAAKH,QAAL,CAAc;AAACR,MAAAA;AAAD,KAAd;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWG,IAAvB;AAEH;;AAED,QAAMC,YAAN,CAAmBQ,KAAnB,EAAyB;AACrBA,IAAAA,KAAK,CAACI,cAAN;AACA,UAAM;AAACb,MAAAA;AAAD,QAAS,KAAKH,KAApB;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAjB;AACA,UAAMf,cAAc,CAACkB,IAAD,CAApB;AACA,SAAKN,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB;AACH;;AAED,QAAMC,MAAN,CAAaC,EAAb,EAAgB;AACZ,UAAMpC,cAAc,CAACoC,EAAD,CAAd,CACLC,IADK,CACA,MAAI;AACN,UAAIC,eAAe,GAAC,CAAC,GAAG,KAAKtB,KAAL,CAAWE,UAAf,EAA2BqB,MAA3B,CAAmCC,CAAC,IAAGA,CAAC,CAACJ,EAAF,KAASA,EAAhD,CAApB;AACA,WAAKT,QAAL,CAAc;AAACT,QAAAA,UAAU,EAAGoB;AAAd,OAAd;AACH,KAJK,CAAN;AAKA,SAAKzB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB;AACH;;AAEDO,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEvB,MAAAA,UAAF;AAAcD,MAAAA;AAAd,QAA4B,KAAKD,KAAvC;AACA,QAAGC,SAAH,EACI,oBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAR;AAEJ,QAAIyB,IAAI,GACRxB,UAAU,CAACyB,GAAX,CAAeC,QAAQ,iBACnB;AAAI,MAAA,GAAG,EAAEA,QAAQ,CAACC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,QAAQ,CAAC7B,YAAd,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,IAAb;AAAkB,MAAA,KAAK,EAAC,QAAxB;AAAiC,MAAA,OAAO,EAAE,MAAK,KAAKoB,MAAL,CAAYS,QAAQ,CAACC,UAArB,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CAFJ,CADJ,CADA;AASA,wBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAGI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKzB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,cAAxB;AAAuC,MAAA,EAAE,EAAC,UAA1C;AAAqD,MAAA,QAAQ,EAAE,KAAKE,YAApE;AAAkF,MAAA,YAAY,EAAC,MAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAMI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,IAAI,EAAC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EACyD,GADzD,eAEI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,WAAd;AAA0B,MAAA,GAAG,EAAEZ,IAA/B;AAAqC,MAAA,EAAE,EAAC,GAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CANJ,CAFJ,CAHJ,eAmBI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CADJ,CADJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKgC,IADL,CAPJ,CAFJ,CAnBJ,CAFJ;AAsCH;;AA/G4B;;AAkHjC,eAAe/B,QAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport AppNav from './AppNav';\r\nimport { removeCategory, createCategory, getAllCategories } from './api/UtilsData';\r\nimport { Table, Container, Form, FormGroup, Button, Label, Input } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass Category extends Component {\r\n\r\n    emptyItem={\r\n        categoryName: ''\r\n    }\r\n\r\n    state = { \r\n        isLoading: true,\r\n        categories : [],\r\n        item: this.emptyItem\r\n     }\r\n\r\n     constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            isLoading: true,\r\n            categories: [],\r\n            item: this.emptyItem\r\n          }\r\n\r\n          this.handleSubmit = this.handleSubmit.bind(this);\r\n          this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n     async componentDidMount(){\r\n        const body = await getAllCategories();\r\n        console.log(body);\r\n        this.setState({categories : body, isLoading : false});\r\n     }\r\n\r\n     async handleChange(event){\r\n        const target= event.target;\r\n        const value= target.value;\r\n        const name = target.name;\r\n\r\n        let item = {...this.state.item};\r\n        item[name]=value;\r\n        this.setState({item});\r\n        console.log(this.state.item);\r\n\r\n    }\r\n\r\n    async handleSubmit(event){\r\n        event.preventDefault();\r\n        const {item }= this.state;\r\n        console.log(this.state);\r\n        await createCategory(item);\r\n        this.props.history.push('/categories');\r\n    }\r\n\r\n    async remove(id){\r\n        await removeCategory(id)\r\n        .then(()=>{\r\n            let updatedCategory=[...this.state.categories].filter( i=> i.id !== id);\r\n            this.setState({categories : updatedCategory });\r\n        });\r\n        this.props.history.push('/categories');\r\n    }\r\n\r\n    render() { \r\n        const { categories, isLoading } = this.state;\r\n        if(isLoading)\r\n            return (<div>Loading ..... </div>);\r\n\r\n        let rows=\r\n        categories.map(category =>\r\n            <tr key={category.categoryId}>\r\n                <td>{category.categoryName}</td>\r\n                <td><Button size=\"sm\" color=\"danger\" onClick={()=> this.remove(category.categoryId)}>Delete</Button></td>\r\n            </tr>\r\n        \r\n        )    \r\n\r\n        return (  \r\n            \r\n            <div>\r\n             <AppNav/>\r\n                               \r\n                <Container>\r\n                    <h2>Categories</h2>\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                        <FormGroup>\r\n                            <Label for=\"category\">Category</Label>\r\n                            <Input type=\"text\" name=\"categoryName\" id=\"category\" onChange={this.handleChange} autoComplete=\"name\"/>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup>\r\n                            <Button color=\"primary\" type=\"submit\" >Save</Button>{' '}\r\n                            <Button color=\"secondary\" tag={Link} to=\"/\" >Cancel</Button>\r\n                        </FormGroup>\r\n\r\n                    </Form>\r\n                </Container>\r\n\r\n                <Container>\r\n                    <h3> Category List </h3>\r\n                    <Table className=\"mt-4\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th width=\"40%\">Category Name</th>\r\n                                <th width=\"10%\">Action</th>\r\n                            </tr> \r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n\r\n                    </Table>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Category;\r\n"]},"metadata":{},"sourceType":"module"}